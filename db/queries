#
#	Procedure
#

Get list of molecules / ATC list for substances, grouped by substance.

Get list of potential interactions along with ATC list.

Determine which of the source drugs is linked with the interaction and
group data along with interaction knowledge.

Serialize and return.


#
#	Get list of composition and ATC elements from a set of DRUGS
#

SELECT DRUGS.NAME, DRUGS.DID, MOLS.MID, LK_MOL_ATC.ATC_ID FROM DRUGS LEFT JOIN COMPOSITION ON COMPOSITION.DID = DRUGS.DID LEFT OUTER JOIN MOLS ON COMPOSITION.MID = MOLS.MID LEFT OUTER JOIN LK_MOL_ATC ON MOLS.MID = LK_MOL_ATC.MID WHERE DRUGS.NAME LIKE 'ZYRTEC%' GROUP BY MOLS.MID;

#
#	Get list of interactions for that drug
#

SELECT DRUGS.NAME, DRUGS.DID, MOLS.MID, LK_MOL_ATC.ATC_ID, INTERACTIONS.* FROM DRUGS LEFT JOIN COMPOSITION ON COMPOSITION.DID = DRUGS.DID LEFT OUTER JOIN MOLS ON COMPOSITION.MID = MOLS.MID LEFT OUTER JOIN LK_MOL_ATC ON MOLS.MID = LK_MOL_ATC.MID LEFT OUTER JOIN INTERACTIONS ON ( INTERACTIONS.ATC_ID1 = LK_MOL_ATC.ATC_ID OR INTERACTIONS.ATC_ID2 = LK_MOL_ATC.ATC_ID ) LEFT OUTER JOIN IA_IAK ON IA_IAK.IAID = INTERACTIONS.IAID LEFT OUTER JOIN IAKNOWLEDGE ON IAKNOWLEDGE.IAKID = IA_IAK.IAKID WHERE DRUGS.NAME LIKE 'ZYRTEC%' GROUP BY MOLS.MID;

